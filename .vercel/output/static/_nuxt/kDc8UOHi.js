import{_ as b}from"./BcNGlyYo.js";import{_ as v,h as m,P as w,i as x,j as y,w as h,k,o as S,a as e,l as c,v as i,m as I,d,b as N,s as T,y as V,z as j}from"./DpY7Jxqy.js";const l=n=>(V("data-v-d2b27882"),n=n(),j(),n),R={class:"h-screen flex justify-center items-center"},U=l(()=>e("div",{class:"hidden md:block lg:w-1/3 bg-white h-full auth-background rounded-tr-lg rounded-br-lg"},null,-1)),A={class:"w-auto md:w-2/4 lg:w-2/3 flex justify-center items-center"},B={class:"w-full lg:w-1/2 px-10 lg:px-0"},C=l(()=>e("h2",{class:"font-normal mb-6 text-3xl text-white"}," Sign Up Account ",-1)),M={class:"mb-6"},O={class:"mb-4"},P=l(()=>e("label",{class:"font-normal text-lg text-white block mb-3"},"Full Name",-1)),W={class:"mb-6"},E={class:"mb-4"},K=l(()=>e("label",{class:"font-normal text-lg text-white block mb-3"},"Occupation",-1)),L={class:"mb-6"},q={class:"mb-4"},z=l(()=>e("label",{class:"font-normal text-lg text-white block mb-3"},"Email Address",-1)),D={class:"mb-6"},F={class:"mb-4"},H=l(()=>e("label",{class:"font-normal text-lg text-white block mb-3"},"Password",-1)),J=l(()=>e("div",{class:"mb-6"},[e("div",{class:"mb-4"},[e("button",{type:"submit",class:"block w-full bg-orange-button hover:bg-green-button text-white font-semibold px-6 py-4 text-lg rounded-full"}," Continue Sign Up ")])],-1)),Y={class:"text-center"},$={class:"text-white text-md"},G={__name:"register",setup(n){const o=m({name:"",occupation:"",email:"",password:""}),r=m(""),_=w(),{signIn:f}=x(),p=async()=>{try{const s=await $fetch("http://localhost:8080/api/v1/users",{method:"POST",body:JSON.stringify({name:o.value.name,occupation:o.value.occupation,email:o.value.email,password:o.value.password}),headers:{"Content-Type":"application/json"}});if(console.log("register response",s),s&&s.meta.status==="success"){const t=await f("credentials",{email:o.value.email,password:o.value.password,redirect:!1});if(console.log("SignIn response:",t),t&&!t.error){sessionStorage.setItem("token",t.token);try{await _.push({path:"/upload",query:{name:o.value.name}}),console.log("Redirect successful")}catch(u){console.error("Router push failed:",u),r.value="Terjadi kesalahan saat melakukan redirect."}}else r.value=t.error||"Sign in gagal. Silakan coba lagi."}else r.value=s.message||"Registrasi gagal. Silakan coba lagi."}catch(s){r.value="Terjadi kesalahan. Silakan coba lagi.",console.error("Registrasi gagal:",s)}};return(s,t)=>{const u=b,g=k;return S(),y(g,{name:"auth"},{default:h(()=>[e("form",{onSubmit:T(p,["prevent"])},[e("div",R,[U,e("div",A,[e("div",B,[C,e("div",M,[e("div",O,[P,c(e("input",{type:"text",class:"auth-form focus:outline-none focus:bg-purple-hover focus:shadow-outline focus:border-purple-hover-stroke focus:text-gray-100",placeholder:"Write Your Name Here","onUpdate:modelValue":t[0]||(t[0]=a=>o.value.name=a)},null,512),[[i,o.value.name]])])]),e("div",W,[e("div",E,[K,c(e("input",{type:"text",class:"auth-form focus:outline-none focus:bg-purple-hover focus:shadow-outline focus:border-purple-hover-stroke focus:text-gray-100",placeholder:"Write your occupation here","onUpdate:modelValue":t[1]||(t[1]=a=>o.value.occupation=a)},null,512),[[i,o.value.occupation]])])]),e("div",L,[e("div",q,[z,c(e("input",{type:"email",class:"auth-form focus:outline-none focus:bg-purple-hover focus:shadow-outline focus:border-purple-hover-stroke focus:text-gray-100",placeholder:"Write your email address here","onUpdate:modelValue":t[2]||(t[2]=a=>o.value.email=a)},null,512),[[i,o.value.email]])])]),e("div",D,[e("div",F,[H,c(e("input",{onKeyup:I(p,["enter"]),type:"password",class:"auth-form focus:outline-none focus:bg-purple-hover focus:shadow-outline focus:border-purple-hover-stroke focus:text-gray-100",placeholder:"Type your password here","onUpdate:modelValue":t[3]||(t[3]=a=>o.value.password=a)},null,544),[[i,o.value.password]])])]),J,e("div",Y,[e("p",$,[d(" Already have account? "),N(u,{to:"/login",class:"no-underline text-orange-button"},{default:h(()=>[d(" Sign In ")]),_:1}),d(". ")])])])])])],32)]),_:1})}}},Z=v(G,[["__scopeId","data-v-d2b27882"]]);export{Z as default};
